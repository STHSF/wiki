<!DOCTYPE HTML>
<html>
<head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <title>tensorflow.python.framework.errors_impl.InvalidArgumentError: - LiYu's personal knowledge wiki</title>
    <meta name="keywords" content="Technology, MachineLearning, DataMining, Economics"/>
    <meta name="description" content="A wiki website of sthsf when I learned new knowledgy and technics."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width" />

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$(',')$'], ['\\(','\\)']]}
        });
        </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-78529611-1', 'auto');
        ga('send', 'pageview');

    </script>
</head>

<body>
<div id="container">
    
<div id="header">
  <div id="post-nav"><a href="/wiki/">Home</a>&nbsp;»&nbsp;<a href="/wiki/#Algorithm">Algorithm</a>&nbsp;»&nbsp;<a href="/wiki/#Algorithm-DeepLearning">DeepLearning</a>&nbsp;»&nbsp;<a href="/wiki/#Algorithm-DeepLearning-使用Tensorflow爬过的坑">使用Tensorflow爬过的坑</a>&nbsp;»&nbsp;tensorflow.python.framework.errors_impl.InvalidArgumentError:</div>
</div>
<div class="clearfix"></div>
<div id="title">tensorflow.python.framework.errors_impl.InvalidArgumentError:</div>
<div id="content">
  <h1 id="_1">写在前面</h1>
<p>我们使用tensorflow搭建深度神经网络的时候，如果模型比较复杂，很难直观的去理解模型。TensorBoard可视化工具包可以帮助我们更好的理解网络结构和参数，网络上大部分教程在定义神经网络模型的时候都是相对比较简单的方式，一般套路都是输入数据、输入层、隐藏层、输出层、损失、session初始化、模型训练。<br />
在这过程中使用summary.scalar或者histogram等将过程中所要展示的变量标记出来，然后使用merge_all()将图形和训练过程等数据合并在一起并使用summary.FileWriter()保存到某一文件夹下。<br />
一般地，基本上不会出现问题。但是如果我在模型的training过程中想要使用Dropout将input或者网络结构中的某些节点drop掉，但是我在使用valid和test的过程中却不需要使用这个op，所以需要建立多个模型，让他们共享变量，这时候我们在可视化数据的时候往往可能会出现问题。</p>
<h1 id="_2">错误提示</h1>
<div class="hlcode"><pre><span class="nx">Traceback</span> <span class="p">(</span><span class="nx">most</span> <span class="nx">recent</span> <span class="nb">call</span> <span class="nb">last</span><span class="p">):</span>
  <span class="nb">File</span> <span class="s2">&quot;/Users/li/PycharmProjects/StockIndexFutures/src/model.py&quot;</span><span class="p">,</span> <span class="nb">line</span> <span class="mi">282</span><span class="p">,</span> <span class="k">in</span> <span class="o">&lt;</span><span class="nx">module</span><span class="o">&gt;</span>
    <span class="nx">valid_acc</span><span class="p">,</span> <span class="n">valid_cost</span> <span class="o">=</span> <span class="nx">run_epoch</span><span class="p">(</span><span class="nb">valid</span><span class="p">,</span> <span class="nx">valid_model</span><span class="p">,</span> <span class="nx">session</span><span class="p">)</span>  <span class="err">#</span> <span class="nb">valid</span>
  <span class="nb">File</span> <span class="s2">&quot;/Users/li/PycharmProjects/StockIndexFutures/src/model.py&quot;</span><span class="p">,</span> <span class="nb">line</span> <span class="mi">206</span><span class="p">,</span> <span class="k">in</span> <span class="nx">run_epoch</span>
    <span class="n">summary_</span> <span class="o">=</span> <span class="nx">session.run</span><span class="p">(</span><span class="nx">model.merged</span><span class="p">,</span> <span class="n">feed_dict</span><span class="o">=</span><span class="nx">feed_dict_</span><span class="p">)</span>
  <span class="nb">File</span> <span class="s2">&quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/client/session.py&quot;</span><span class="p">,</span> <span class="nb">line</span> <span class="mi">889</span><span class="p">,</span> <span class="k">in</span> <span class="nb">run</span>
    <span class="nx">run_metadata_ptr</span><span class="p">)</span>
  <span class="nb">File</span> <span class="s2">&quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/client/session.py&quot;</span><span class="p">,</span> <span class="nb">line</span> <span class="mi">1120</span><span class="p">,</span> <span class="k">in</span> <span class="nx">_run</span>
    <span class="nx">feed_dict_tensor</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">run_metadata</span><span class="p">)</span>
  <span class="nb">File</span> <span class="s2">&quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/client/session.py&quot;</span><span class="p">,</span> <span class="nb">line</span> <span class="mi">1317</span><span class="p">,</span> <span class="k">in</span> <span class="nx">_do_run</span>
    <span class="nx">options</span><span class="p">,</span> <span class="nx">run_metadata</span><span class="p">)</span>
  <span class="nb">File</span> <span class="s2">&quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/client/session.py&quot;</span><span class="p">,</span> <span class="nb">line</span> <span class="mi">1336</span><span class="p">,</span> <span class="k">in</span> <span class="nx">_do_call</span>
    <span class="nx">raise</span> <span class="k">type</span><span class="p">(</span><span class="nx">e</span><span class="p">)(</span><span class="nx">node_def</span><span class="p">,</span> <span class="nx">op</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span>
<span class="nx">tensorflow.python.framework.errors_impl.InvalidArgumentError</span><span class="p">:</span> <span class="nx">You</span> <span class="nx">must</span> <span class="nx">feed</span> <span class="nx">a</span> <span class="nb">value</span> <span class="nb">for</span> <span class="nx">placeholder</span> <span class="nx">tensor</span> <span class="s1">&#39;Train/Model/input_data/inputs&#39;</span> <span class="k">with</span> <span class="nx">dtype</span> <span class="nx">int32</span> <span class="ow">and</span> <span class="nx">shape</span> <span class="err">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">6</span><span class="cp">]</span>
     <span class="cp">[</span><span class="err">[</span><span class="nx">Node</span><span class="p">:</span> <span class="nx">Train</span><span class="p">/</span><span class="nx">Model</span><span class="p">/</span><span class="nx">input_data</span><span class="p">/</span><span class="nx">inputs</span> <span class="o">=</span> <span class="nx">Placeholder</span><span class="err">[</span><span class="n">dtype</span><span class="o">=</span><span class="nx">DT_INT32</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="err">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">6</span><span class="cp">]</span>, _device=&quot;/job:localhost/replica:0/task:0/device:CPU:0&quot;]()]]

Caused by op u&#39;Train/Model/input_data/inputs&#39;, defined at:
  File &quot;/Users/li/PycharmProjects/StockIndexFutures/src/model.py&quot;, line 221, in <span class="nt">&lt;module&gt;</span>
    train_model = language_model(train_scope, is_training=True, config=train_conf)
  File &quot;/Users/li/PycharmProjects/StockIndexFutures/src/model.py&quot;, line 91, in __init__
    self.graph()
  File &quot;/Users/li/PycharmProjects/StockIndexFutures/src/model.py&quot;, line 107, in graph
    shape=(self.batch_size, self.seq_length), name=&#39;inputs&#39;)    # <span class="cp">[</span><span class="nx">batch_size</span><span class="p">,</span> <span class="nx">seq_length</span><span class="cp">]</span>
  File &quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py&quot;, line 1599, in placeholder
    return gen_array_ops._placeholder(dtype=dtype, shape=shape, name=name)
  File &quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py&quot;, line 3091, in _placeholder
    &quot;Placeholder&quot;, dtype=dtype, shape=shape, name=name)
  File &quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py&quot;, line 787, in _apply_op_helper
    op_def=op_def)
  File &quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/framework/ops.py&quot;, line 2956, in create_op
    op_def=op_def)
  File &quot;/Users/li/workshop/virtualenv/stockindexfuture/lib/python2.7/site-packages/tensorflow/python/framework/ops.py&quot;, line 1470, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor &#39;Train/Model/input_data/inputs&#39; with dtype int32 and shape <span class="cp">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">6</span><span class="cp">]</span>
     <span class="cp">[</span><span class="err">[</span><span class="nx">Node</span><span class="p">:</span> <span class="nx">Train</span><span class="p">/</span><span class="nx">Model</span><span class="p">/</span><span class="nx">input_data</span><span class="p">/</span><span class="nx">inputs</span> <span class="o">=</span> <span class="nx">Placeholder</span><span class="err">[</span><span class="n">dtype</span><span class="o">=</span><span class="nx">DT_INT32</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="err">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">6</span><span class="cp">]</span>, _device=&quot;/job:localhost/replica:0/task:0/device:CPU:0&quot;]()]]
</pre></div>


<h1 id="_3">解决方法</h1>
<p>刚开始，我将tf.summary.merge_all()移到Graph中，就是说后面在定义不同的模型是merged_summary也是不同的，后面在主程序中使用不同的数据进行feed，但是问题依然存在，在运行train_model的时候没有出现问题。但是在运行valid_model时依然会提示类似于上面的错误。</p>
<p>后来在网上找到有人将tf.summary.merge_all()替换成tf.summary.marge(),并且在其中添加参数tf.get_collection(tf.GraphKeys.SUMMARIES, name_scope)，其中name_scope是指后面声明的train_model、valid_model和test_model。</p>
<p>这里面涉及到不同model的summary的定义，tensorflow中Summary被收集在tf.GraphKeys.SUMMARYIES的collection中。Summary是对网络中Tensor的取值进行监测的一种opetation。所以tensorflow中的各种collection还需仔细理解一下。</p>
<p>下面是调试后的部分源码：</p>
<h2 id="graph">Graph中的定义</h2>
<div class="hlcode"><pre><span class="n">class</span> <span class="n">language_model</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="n">True</span><span class="p">)</span><span class="o">:</span>

        <span class="n">self</span><span class="p">.</span><span class="n">learning_rate</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">learning_rate</span>
        <span class="n">self</span><span class="p">.</span><span class="n">num_layers</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">num_layers</span>
        <span class="n">self</span><span class="p">.</span><span class="n">hidden_units</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">hidden_units</span>
        <span class="n">self</span><span class="p">.</span><span class="n">is_training</span> <span class="o">=</span> <span class="n">is_training</span>
        <span class="n">self</span><span class="p">.</span><span class="n">keep_prob</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">keep_prob</span>
        <span class="n">self</span><span class="p">.</span><span class="n">grad_clip</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">grad_clip</span>
        <span class="n">self</span><span class="p">.</span><span class="n">num_classes</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">num_classes</span>
        <span class="n">self</span><span class="p">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">batch_size</span>
        <span class="n">self</span><span class="p">.</span><span class="n">seq_length</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">num_steps</span>
        <span class="n">self</span><span class="p">.</span><span class="n">graph</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">merged</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">merge</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">get_collection</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">GraphKeys</span><span class="p">.</span><span class="n">SUMMARIES</span><span class="p">,</span> <span class="n">scope</span><span class="p">))</span>

        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">saver</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">saver</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">train</span><span class="p">.</span><span class="n">Saver</span><span class="p">(</span><span class="n">max_to_keep</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

    <span class="n">def</span> <span class="n">graph</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="err">#</span> <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">is_training</span><span class="o">:</span>
        <span class="err">#</span>     <span class="n">self</span><span class="p">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">batch_size</span>
        <span class="err">#</span>     <span class="n">self</span><span class="p">.</span><span class="n">seq_length</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">num_steps</span>
        <span class="err">#</span> <span class="k">else</span><span class="o">:</span>
        <span class="err">#</span>     <span class="n">self</span><span class="p">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="err">#</span>     <span class="n">self</span><span class="p">.</span><span class="n">seq_length</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">num_steps</span>
        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input_data</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">placeholder</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">int32</span><span class="p">,</span>
                                    <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">seq_length</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="err">&#39;</span><span class="n">inputs</span><span class="err">&#39;</span><span class="p">)</span>    <span class="err">#</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">seq_length</span><span class="p">]</span>
            <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">placeholder</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">int32</span><span class="p">,</span>
                                    <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">seq_length</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="err">&#39;</span><span class="n">targets</span><span class="err">&#39;</span><span class="p">)</span>   <span class="err">#</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">seq_length</span><span class="p">]</span>
            <span class="err">#</span> <span class="n">One</span><span class="o">-</span><span class="n">hot</span><span class="err">编码</span>
            <span class="n">self</span><span class="p">.</span><span class="n">inputs</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">one_hot</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">num_classes</span><span class="p">)</span>           <span class="err">#</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">seq_length</span><span class="p">,</span> <span class="n">num_classes</span><span class="p">]</span>
            <span class="err">#</span> <span class="n">self</span><span class="p">.</span><span class="n">inputs</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">num_classes</span><span class="p">])</span>
            <span class="n">self</span><span class="p">.</span><span class="n">targets</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">one_hot</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">num_classes</span><span class="p">)</span>          <span class="err">#</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">seq_length</span><span class="p">,</span> <span class="n">num_classes</span><span class="p">]</span>

        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">multi_cell</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="n">stacked_cells</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">contrib</span><span class="p">.</span><span class="n">rnn</span><span class="p">.</span><span class="n">MultiRNNCell</span><span class="p">([</span><span class="n">self</span><span class="p">.</span><span class="n">lstm_cell</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="n">in</span> <span class="n">range</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">num_layers</span><span class="p">)],</span>
                                                        <span class="n">state_is_tuple</span><span class="o">=</span><span class="n">True</span><span class="p">)</span>

        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">initial_state</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="err">#</span> <span class="n">initial_state</span><span class="o">:</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">hidden_units</span> <span class="o">*</span> <span class="n">num_layers</span><span class="p">]</span>
            <span class="n">self</span><span class="p">.</span><span class="n">initial_state</span> <span class="o">=</span> <span class="n">stacked_cells</span><span class="p">.</span><span class="n">zero_state</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">tf</span><span class="p">.</span><span class="n">float32</span><span class="p">)</span>

        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">dynamic_rnn</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="err">#</span> <span class="n">cell_output</span><span class="o">:</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">seq_length</span><span class="p">,</span> <span class="n">hidden_units</span><span class="p">]</span>
            <span class="err">#</span> <span class="n">final_state</span><span class="o">:</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">hidden_units</span> <span class="o">*</span> <span class="n">num_layers</span><span class="p">]</span>
            <span class="n">self</span><span class="p">.</span><span class="n">cell_outputs</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">final_state</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">nn</span><span class="p">.</span><span class="n">dynamic_rnn</span><span class="p">(</span><span class="n">cell</span><span class="o">=</span><span class="n">stacked_cells</span><span class="p">,</span>
                                                                    <span class="n">inputs</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">inputs</span><span class="p">,</span>
                                                                    <span class="n">initial_state</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">initial_state</span><span class="p">)</span>

            <span class="n">seq_output</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cell_outputs</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">seq_output</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">hidden_units</span><span class="p">])</span>  <span class="err">#</span> <span class="n">y0</span><span class="o">:</span> <span class="p">[</span><span class="n">batch_size</span> <span class="o">*</span> <span class="n">seq_length</span><span class="p">,</span> <span class="n">hidden_units</span><span class="p">]</span>
            <span class="err">#</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cell_outputs</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">hidden_units</span><span class="p">])</span> <span class="err">#</span> <span class="n">y0</span><span class="o">:</span> <span class="p">[</span><span class="n">batch_size</span> <span class="o">*</span> <span class="n">seq_length</span><span class="p">,</span> <span class="n">hidden_units</span><span class="p">]</span>

        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">output_layer</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">softmax</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
                <span class="n">sofmax_w</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">truncated_normal</span><span class="p">([</span><span class="n">self</span><span class="p">.</span><span class="n">hidden_units</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">num_classes</span><span class="p">],</span> <span class="n">stddev</span><span class="o">=</span><span class="mf">0.1</span><span class="p">))</span>
                <span class="n">softmax_b</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">num_classes</span><span class="p">))</span>

            <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">wx_plus_b</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
                <span class="n">self</span><span class="p">.</span><span class="n">logits</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">sofmax_w</span><span class="p">)</span> <span class="o">+</span> <span class="n">softmax_b</span>  <span class="err">#</span> <span class="n">logits</span><span class="o">:</span> <span class="p">[</span><span class="n">batch_size</span> <span class="o">*</span> <span class="n">seq_length</span><span class="p">,</span> <span class="n">num_classes</span><span class="p">]</span>
            <span class="n">self</span><span class="p">.</span><span class="n">prediction</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">nn</span><span class="p">.</span><span class="n">softmax</span><span class="p">(</span><span class="n">logits</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">logits</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="err">&#39;</span><span class="n">prediction</span><span class="err">&#39;</span><span class="p">)</span>

        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">acc_compute</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="n">correct_prediction</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">equal</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">cast</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">prediction</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">tf</span><span class="p">.</span><span class="n">int32</span><span class="p">),</span> <span class="n">tf</span><span class="p">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
            <span class="err">#</span> <span class="n">aa</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">targets</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">num_classes</span><span class="p">])</span>
            <span class="err">#</span> <span class="n">correct_prediction</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">equal</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">cast</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">prediction</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">tf</span><span class="p">.</span><span class="n">int32</span><span class="p">),</span>
            <span class="err">#</span>                               <span class="n">tf</span><span class="p">.</span><span class="n">cast</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">aa</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">tf</span><span class="p">.</span><span class="n">int32</span><span class="p">))</span>
            <span class="n">self</span><span class="p">.</span><span class="n">accuracy</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">reduce_mean</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">cast</span><span class="p">(</span><span class="n">correct_prediction</span><span class="p">,</span> <span class="n">tf</span><span class="p">.</span><span class="n">float32</span><span class="p">))</span>
            <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">scalar</span><span class="p">(</span><span class="err">&#39;</span><span class="n">acc</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">accuracy</span><span class="p">)</span>

        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">loss</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="err">#</span> <span class="n">y_reshaped</span><span class="o">:</span> <span class="p">[</span><span class="n">batch_size</span> <span class="o">*</span> <span class="n">seq_length</span><span class="p">,</span> <span class="n">num_classes</span><span class="p">]</span>
            <span class="n">y_reshaped</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">targets</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">logits</span><span class="p">.</span><span class="n">get_shape</span><span class="p">())</span>

            <span class="err">#</span> <span class="n">Softmax</span> <span class="n">cross</span> <span class="n">entropy</span> <span class="n">loss</span>
            <span class="err">#</span> <span class="n">_loss</span><span class="o">:</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">seq_length</span><span class="p">]</span>
            <span class="n">_loss</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">nn</span><span class="p">.</span><span class="n">softmax_cross_entropy_with_logits</span><span class="p">(</span><span class="n">logits</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">logits</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">y_reshaped</span><span class="p">)</span>
            <span class="err">#</span> <span class="err">带权重的交叉熵计算</span>
            <span class="err">#</span> <span class="n">loss</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">contrib</span><span class="p">.</span><span class="n">seq2seq</span><span class="p">.</span><span class="n">sequence_loss</span><span class="p">(</span>
            <span class="err">#</span>     <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">logits</span><span class="p">],</span>   <span class="err">#</span> <span class="n">output</span> <span class="p">[</span><span class="n">batch</span><span class="o">*</span><span class="n">numsteps</span><span class="p">,</span> <span class="n">vocab_size</span><span class="p">]</span>
            <span class="err">#</span>     <span class="p">[</span><span class="n">tf</span><span class="p">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])],</span>  <span class="err">#</span> <span class="n">target</span><span class="p">,</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">num_steps</span><span class="p">]</span> <span class="err">然后展开成一维【列表】</span>
            <span class="err">#</span>     <span class="p">[</span><span class="n">tf</span><span class="p">.</span><span class="n">ones</span><span class="p">([</span><span class="n">self</span><span class="p">.</span><span class="n">batch_size</span> <span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">seq_length</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">tf</span><span class="p">.</span><span class="n">float32</span><span class="p">)])</span>  <span class="err">#</span> <span class="n">weight</span>

            <span class="n">self</span><span class="p">.</span><span class="n">loss</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">reduce_mean</span><span class="p">(</span><span class="n">_loss</span><span class="p">)</span>
            <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">scalar</span><span class="p">(</span><span class="s">&quot;Loss&quot;</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">loss</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">not</span> <span class="n">self</span><span class="p">.</span><span class="n">is_training</span><span class="o">:</span>
                <span class="k">return</span>

            <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">optimizer</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
                <span class="n">tvars</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">trainable_variables</span><span class="p">()</span>
                <span class="n">grads</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">clip_by_global_norm</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">gradients</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">loss</span><span class="p">,</span> <span class="n">tvars</span><span class="p">),</span> <span class="n">self</span><span class="p">.</span><span class="n">grad_clip</span><span class="p">)</span>
                <span class="n">train_op</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">train</span><span class="p">.</span><span class="n">AdamOptimizer</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">learning_rate</span><span class="p">)</span>
                <span class="n">self</span><span class="p">.</span><span class="n">train_op</span> <span class="o">=</span> <span class="n">train_op</span><span class="p">.</span><span class="n">apply_gradients</span><span class="p">(</span><span class="n">zip</span><span class="p">(</span><span class="n">grads</span><span class="p">,</span> <span class="n">tvars</span><span class="p">),</span>
                                                         <span class="n">global_step</span><span class="o">=</span><span class="n">tf</span><span class="p">.</span><span class="n">train</span><span class="p">.</span><span class="n">get_or_create_global_step</span><span class="p">())</span>

    <span class="n">def</span> <span class="n">lstm_cell</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="err">#</span> <span class="n">Or</span> <span class="n">GRUCell</span><span class="p">,</span> <span class="n">LSTMCell</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">hiddenSize</span><span class="p">)</span>
        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">variable_scope</span><span class="p">(</span><span class="err">&#39;</span><span class="n">lstm_cell</span><span class="err">&#39;</span><span class="p">)</span><span class="o">:</span>
            <span class="n">cell</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">contrib</span><span class="p">.</span><span class="n">rnn</span><span class="p">.</span><span class="n">BasicLSTMCell</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">hidden_units</span><span class="p">,</span>
                                                <span class="n">state_is_tuple</span><span class="o">=</span><span class="n">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">is_training</span><span class="o">:</span>
            <span class="n">cell</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">contrib</span><span class="p">.</span><span class="n">rnn</span><span class="p">.</span><span class="n">DropoutWrapper</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span>
                                                 <span class="n">input_keep_prob</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                                 <span class="n">output_keep_prob</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">keep_prob</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cell</span>
</pre></div>


<h2 id="_4">会话中的调用</h2>
<div class="hlcode"><pre><span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">Graph</span><span class="p">().</span><span class="n">as_default</span><span class="p">()</span><span class="o">:</span>
    <span class="n">initializer</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">random_uniform_initializer</span><span class="p">(</span><span class="o">-</span><span class="n">train_conf</span><span class="p">.</span><span class="n">init_scale</span><span class="p">,</span> <span class="n">train_conf</span><span class="p">.</span><span class="n">init_scale</span><span class="p">)</span>

    <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="s">&quot;Train&quot;</span><span class="p">)</span> <span class="n">as</span> <span class="n">train_scope</span><span class="o">:</span>
        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">variable_scope</span><span class="p">(</span><span class="s">&quot;Model&quot;</span><span class="p">,</span> <span class="n">reuse</span><span class="o">=</span><span class="n">None</span><span class="p">,</span> <span class="n">initializer</span><span class="o">=</span><span class="n">initializer</span><span class="p">)</span><span class="o">:</span>
            <span class="n">train_model</span> <span class="o">=</span> <span class="n">language_model</span><span class="p">(</span><span class="n">train_scope</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="n">True</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">train_conf</span><span class="p">)</span>
            <span class="err">#</span> <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">scalar</span><span class="p">(</span><span class="s">&quot;Training Loss&quot;</span><span class="p">,</span> <span class="n">train_model</span><span class="p">.</span><span class="n">loss</span><span class="p">)</span>
            <span class="err">#</span> <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">scalar</span><span class="p">(</span><span class="s">&quot;Training acc&quot;</span><span class="p">,</span> <span class="n">train_model</span><span class="p">.</span><span class="n">accuracy</span><span class="p">)</span>

    <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="s">&quot;Valid&quot;</span><span class="p">)</span> <span class="n">as</span> <span class="n">valid_scope</span><span class="o">:</span>
        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">variable_scope</span><span class="p">(</span><span class="s">&quot;Model&quot;</span><span class="p">,</span> <span class="n">reuse</span><span class="o">=</span><span class="n">True</span><span class="p">,</span> <span class="n">initializer</span><span class="o">=</span><span class="n">initializer</span><span class="p">)</span><span class="o">:</span>
            <span class="n">valid_model</span> <span class="o">=</span> <span class="n">language_model</span><span class="p">(</span><span class="n">valid_scope</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="n">False</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">valid_conf</span><span class="p">)</span>
            <span class="err">#</span> <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">scalar</span><span class="p">(</span><span class="s">&quot;Valid Loss&quot;</span><span class="p">,</span> <span class="n">valid_model</span><span class="p">.</span><span class="n">loss</span><span class="p">)</span>
            <span class="err">#</span> <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">scalar</span><span class="p">(</span><span class="s">&quot;Valid acc&quot;</span><span class="p">,</span> <span class="n">valid_model</span><span class="p">.</span><span class="n">accuracy</span><span class="p">)</span>

    <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">name_scope</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">)</span><span class="n">as</span> <span class="n">test_scope</span><span class="o">:</span>
        <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">variable_scope</span><span class="p">(</span><span class="s">&quot;Model&quot;</span><span class="p">,</span> <span class="n">reuse</span><span class="o">=</span><span class="n">True</span><span class="p">,</span> <span class="n">initializer</span><span class="o">=</span><span class="n">initializer</span><span class="p">)</span><span class="o">:</span>
            <span class="n">test_model</span> <span class="o">=</span> <span class="n">language_model</span><span class="p">(</span><span class="n">test_scope</span><span class="p">,</span> <span class="n">is_training</span><span class="o">=</span><span class="n">False</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">valid_conf</span><span class="p">)</span>

    <span class="err">#</span> <span class="n">CheckPoint</span> <span class="n">State</span>
    <span class="err">#</span> <span class="n">ckpt</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">train</span><span class="p">.</span><span class="n">get_checkpoint_state</span><span class="p">(</span><span class="n">conf</span><span class="p">.</span><span class="n">model_save_path</span><span class="p">)</span>
    <span class="err">#</span> <span class="k">if</span> <span class="n">ckpt</span><span class="o">:</span>
    <span class="err">#</span>     <span class="n">print</span><span class="p">(</span><span class="s">&quot;Loading model parameters from %s&quot;</span> <span class="o">%</span> <span class="n">ckpt</span><span class="p">.</span><span class="n">model_checkpoint_path</span><span class="p">)</span>
    <span class="err">#</span>     <span class="n">train_model</span><span class="p">.</span><span class="n">saver</span><span class="p">.</span><span class="n">restore</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">tf</span><span class="p">.</span><span class="n">train</span><span class="p">.</span><span class="n">latest_checkpoint</span><span class="p">(</span><span class="n">conf</span><span class="p">.</span><span class="n">model_save_path</span><span class="p">))</span>
    <span class="err">#</span> <span class="k">else</span><span class="o">:</span>
    <span class="err">#</span>     <span class="n">print</span><span class="p">(</span><span class="s">&quot;Created model with fresh parameters.&quot;</span><span class="p">)</span>

    <span class="n">with</span> <span class="n">tf</span><span class="p">.</span><span class="n">Session</span><span class="p">()</span> <span class="n">as</span> <span class="n">session</span><span class="o">:</span>

        <span class="n">train_summary_writer</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">FileWriter</span><span class="p">(</span><span class="err">&#39;</span><span class="p">.</span><span class="o">/</span><span class="n">model</span><span class="o">/</span><span class="n">tensorflowlogs</span><span class="o">/</span><span class="n">train</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">graph</span><span class="p">)</span>
        <span class="n">test_summary_writer</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">summary</span><span class="p">.</span><span class="n">FileWriter</span><span class="p">(</span><span class="err">&#39;</span><span class="p">.</span><span class="o">/</span><span class="n">model</span><span class="o">/</span><span class="n">tensorflowlogs</span><span class="o">/</span><span class="n">test</span><span class="err">&#39;</span><span class="p">)</span>
        <span class="n">session</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">tf</span><span class="p">.</span><span class="n">global_variables_initializer</span><span class="p">())</span>
</pre></div>


<h1 id="_5">参考文献</h1>
<p><a href="http://blog.csdn.net/shenxiaolu1984/article/details/52815641">常用集合: Variable, Summary, 自定义</a><br />
<a href="http://blog.csdn.net/u012436149/article/details/53894364">tensorflow学习笔记（二十九）：merge_all引发的血案</a></p>
</div>
<div id="content-footer">created in <span class="create-date date"> 2017-11-06 00:00 </span></div>
<div id="comments"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script type="text/javascript">
const gitment = new Gitment({
  title: 'tensorflow.python.framework.errors_impl.InvalidArgumentError:',
  owner: 'sthsf',
  repo: 'wiki',
  oauth: {
    client_id: '086c54c5fd95adfdc372',
    client_secret: '2ad9ebe87b952d2c77fccf99c334881b91eaa73d',
  },
  // ...
  // For more available options, check out the documentation below
})
gitment.render('comments')
// or
// gitment.render(document.getElementById('comments'))
// or
// document.body.appendChild(gitment.render())
</script>

</div>
<div id="footer">
            <span>
                Copyright © 2018 LiYu.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
                Fork me in <a href="https://github.com/sthsf/wiki" target="_blank"> github </a>.
            </span>
</div>


<!--百度统计-->
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?90e1dcdd1938573c19f9ff6521188e91";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


</body>
</html>