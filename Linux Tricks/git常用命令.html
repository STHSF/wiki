<!DOCTYPE HTML>
<html>
<head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <title>git常用命令 - LiYu's personal knowledge wiki</title>
    <meta name="keywords" content="Technology, MachineLearning, DataMining, Economics"/>
    <meta name="description" content="A wiki website of sthsf when I learned new knowledgy and technics."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width" />

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$(',')$'], ['\\(','\\)']]}
        });
        </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-78529611-1', 'auto');
        ga('send', 'pageview');

    </script>
</head>

<body>
<div id="container">
    
<div id="header">
  <div id="post-nav"><a href="/wiki/">Home</a>&nbsp;»&nbsp;<a href="/wiki/#Linux Tricks">Linux Tricks</a>&nbsp;»&nbsp;git常用命令</div>
</div>
<div class="clearfix"></div>
<div id="title">git常用命令</div>
<div id="content">
  <h1 id="_1">符号约定</h1>
<ul>
<li><xxx> 自定义内容</li>
<li>[xxx] 可选内容</li>
<li>[<xxx>] 自定义可选内容</li>
</ul>
<h1 id="_2">初始设置</h1>
<ul>
<li><code>git config --global user.name "&lt;用户名&gt;"</code> 设置用户名</li>
<li><code>git config --global user.email "&lt;电子邮件&gt;"</code> 设置电子邮件</li>
</ul>
<h1 id="_3">命令</h1>
<h2 id="_4">本地操作</h2>
<ul>
<li><code>git add [-i]</code> 保存更新，-i为逐个确认。</li>
<li><code>git status</code> 检查更新。</li>
<li><code>git commit [-a] -m "&lt;更新说明&gt;"</code> 提交更新，-a为包含内容修改和增删， -m为说明信息，也可以使用 -am。</li>
</ul>
<h2 id="_5">远端操作</h2>
<ul>
<li><code>git clone &lt;git地址&gt;</code> 克隆到本地。</li>
<li><code>git fetch</code> 远端抓取。</li>
<li><code>git merge</code> 与本地当前分枝合并。</li>
<li><code>git pull [&lt;远端别名&gt;] [&lt;远端branch&gt;]</code> 抓取并合并,相当于第2、3步</li>
<li><code>git push [-f] [&lt;远端别名&gt;] [&lt;远端branch&gt;]</code> 推送到远端，-f为强制覆盖</li>
<li><code>git remote add &lt;别名&gt; &lt;git地址&gt;</code> 设置远端别名</li>
<li><code>git remote [-v]</code> 列出远端，-v为详细信息</li>
<li><code>git remote show &lt;远端别名&gt;</code> 查看远端信息</li>
<li><code>git remote rename &lt;远端别名&gt; &lt;新远端别名&gt;</code> 重命名远端</li>
<li><code>git remote rm &lt;远端别名&gt;</code> 删除远端</li>
<li><code>git remote update</code> [&lt;远端别名&gt;] 更新分枝列表</li>
</ul>
<h2 id="_6">分支相关</h2>
<ul>
<li><code>git branch [-r] [-a]</code> 列出分枝，-r远端 ,-a全部</li>
<li><code>git branch &lt;分枝名&gt;</code>新建分枝</li>
<li>```git checkout &lt;分枝名&gt; 切换到分枝</li>
<li><code>git checkout -b &lt;本地branch&gt; [-t &lt;远端别名&gt;/&lt;远端分枝&gt;]</code> -b新建本地分枝并切换到分枝, -t绑定远端分枝</li>
</ul>
<h2 id="_7">删除远程仓库中的文件或者文件目录</h2>
<div class="hlcode"><pre><span class="cp"># 删除的是本地仓库中的文件, 但是本地工作区的文件会保留且不再与远程仓库发生跟踪关系</span>
<span class="n">git</span> <span class="n">rm</span> <span class="o">-</span><span class="n">r</span> <span class="o">--</span><span class="n">cached</span> <span class="p">[</span><span class="n">file</span><span class="p">]</span>  <span class="err">#</span> <span class="o">-</span><span class="n">r</span> <span class="err">删除文件目录</span>
<span class="cp"># 如果连本地工作区中的文件也要删除</span>
<span class="n">git</span> <span class="n">rm</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span><span class="p">]</span> <span class="p">[</span><span class="n">file</span><span class="p">.</span><span class="n">txt</span><span class="p">]</span>
</pre></div>


<p>删除之后 再通过 <code>commit, push</code>等操作即可, <strong>注意, 执行 git rm之后, 只需要继续执行<code>git commit</code> 和<code>git push</code>, 不需要执行<code>git add</code>. 否则<code>git rm</code>无效</strong></p>
<h2 id="github">本地文件上传到github仓库</h2>
<h3 id="_8">本地文件夹操作</h3>
<p>1、 通过<code>git init</code>把当前目录变成git可以管理的仓库</p>
<div class="hlcode"><pre><span class="cp"># 进入本地文件夹主文件目录下</span>
<span class="n">git</span> <span class="n">init</span>
</pre></div>


<p>init 之后, 文件目录下会生成.git文件夹, 然后当前会出现在mater分支下.</p>
<p>2、 执行 add, commit将文件提交到暂存区, 然后提交到仓库</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">add</span> <span class="p">.</span>  <span class="err">#</span> <span class="err">添加到暂存区</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s">&quot;first commit&quot;</span>  <span class="err">#</span> <span class="err">提交到仓库</span>
</pre></div>


<h3 id="_9">关联远程仓库</h3>
<p>1、如果不存在远程仓库, 则先在github上新建一个空的repo, 然后将本地仓库与远程仓库关联</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="err">新建的远程仓库</span>  
<span class="cp"># 如 git remote add origin https:</span><span class="c1">//github.com/githubusername/demo.git</span>
</pre></div>


<p>2、如果远程仓库不为空, 除了关联远程仓库, 还必须做下面该步骤</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">pull</span> <span class="o">--</span><span class="n">rebase</span> <span class="n">origin</span> <span class="n">master</span>  <span class="err">#</span> <span class="err">获取远程仓库与本地仓库同步合并</span><span class="p">,</span> <span class="err">如果远程仓库不为空</span><span class="p">,</span><span class="err">则必须做这一步</span><span class="p">,</span> <span class="err">否则后面的提交会失败</span>
</pre></div>


<h3 id="_10">本地文件上传</h3>
<div class="hlcode"><pre><span class="cp"># 把本地库的内容推送到远程，使用 git push命令，实际上是把当前分支master推送到远程。执行此命令后会要求输入用户名、密码，验证通过后即开始上传。</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>


<h2 id="_11">协同流程</h2>
<ul>
<li>1、首先fork远程项目, 将远程仓库中的项目fork到本地仓库中,</li>
<li>2、把fork过去的项目也就是你的本地仓库中的项目clone到你的本地</li>
<li>3、运行 git remote add &lt;远程仓库别名&gt; &lt;别人的远程仓库地址&gt; 把别人的库添加为远端库, 并且取一个别名</li>
<li>4、运行 git pull &lt;远程仓库别名&gt; &lt;远端分支&gt; 拉取并合并到本地</li>
<li>5、编辑内容</li>
<li>6、add, commit后push到自己的库（git push &lt;自己的远端别名&gt; &lt;自己的远端分枝&gt;）</li>
<li>7、登陆Github在你首页可以看到一个 pull request 按钮，点击它，填写一些说明信息，然后提交即可。<br />
<strong>1~3是初始化操作，执行一次即可。在本地编辑内容前必须执行第4步同步别人的远端库（这样避免冲突），然后执行5~7既可。</strong></li>
</ul>
<h2 id="lib">管理公共第三方lib</h2>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">subtree</span>
</pre></div>


<h2 id="_12">实现代码自动部署</h2>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">hook</span>
</pre></div>


<h2 id="git">git 速查表</h2>
<p><center><img src="/wiki/static/images/linuxtricks/gitcommand.png" alt="git-command"/></center></p>
<h1 id="_13">参考文献</h1>
<p><a href="https://segmentfault.com/q/1010000000670427">Github 的项目怎么引用另一个项目？</a></p>
<p><a href="https://mp.weixin.qq.com/s?__biz=MjM5NTg2NTU0Ng%3D%3D&amp;chksm=bd5dde3b8a2a572dd32802287436d6bf5048975cd22984a182a967c8d3c35b22ec314f7a3022&amp;idx=4&amp;mid=2656602270&amp;scene=0&amp;sn=5e3842c5850ea0fd425c7886a0591ce4&amp;xtrack=1#rd">Git使用教程：最详细、最傻瓜、最浅显、真正手把手教！</a></p>
<p><a href="https://www.cnblogs.com/toward-the-sun/p/6015284.html">git删除远程仓库的文件或目录</a></p>
<p><a href="http://xiaocong.github.io/blog/2013/03/20/team-collaboration-with-github/">使用GitHub进行团队合作</a></p>
<p><a href="https://www.cnblogs.com/eedc/p/6168430.html">如何用命令将本地项目上传到git</a></p>
<p><a href="https://blog.csdn.net/liuchunming033/article/details/87195568">提交 Merge Request 申请进行code review</a></p>
<p><a href="https://segmentfault.com/a/1190000007701719">git 使用流程规范（merge-request)</a></p>
<p><a href="https://blog.csdn.net/enlyhua/article/details/82875286">GitLab 创建 merge request</a></p>
<p><a href="https://www.cnblogs.com/dky20155212/p/6821634.html?utm_source=itdadao&amp;utm_medium=referral">如何加入别人的Git项目——Git Fork指南</a></p>
<p><a href="https://www.cnblogs.com/-walker/p/7278951.html">git常用命令以及如何与fork别人的仓库保持同步</a></p>
</div>
<div id="content-footer">created in <span class="create-date date"> 2019-14-11 10:00 </span></div>
<div id="comments"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script type="text/javascript">
const gitment = new Gitment({
  title: 'git常用命令',
  owner: 'sthsf',
  repo: 'wiki',
  oauth: {
    client_id: '086c54c5fd95adfdc372',
    client_secret: '2ad9ebe87b952d2c77fccf99c334881b91eaa73d',
  },
  // ...
  // For more available options, check out the documentation below
})
gitment.render('comments')
// or
// gitment.render(document.getElementById('comments'))
// or
// document.body.appendChild(gitment.render())
</script>

</div>
<div id="footer">
            <span>
                Copyright © 2025 LiYu.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
                Fork me in <a href="https://github.com/sthsf/wiki" target="_blank"> github </a>.
            </span>
</div>


<!--百度统计-->
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?90e1dcdd1938573c19f9ff6521188e91";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


</body>
</html>