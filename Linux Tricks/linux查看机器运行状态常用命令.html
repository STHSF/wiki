<!DOCTYPE HTML>
<html>
<head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <title>linux查看机器运行状态常用命令 - LiYu's personal knowledge wiki</title>
    <meta name="keywords" content="Technology, MachineLearning, DataMining, Economics"/>
    <meta name="description" content="A wiki website of sthsf when I learned new knowledgy and technics."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width" />

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$(',')$'], ['\\(','\\)']]}
        });
        </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-78529611-1', 'auto');
        ga('send', 'pageview');

    </script>
</head>

<body>
<div id="container">
    
<div id="header">
  <div id="post-nav"><a href="/wiki/">Home</a>&nbsp;»&nbsp;<a href="/wiki/#Linux Tricks">Linux Tricks</a>&nbsp;»&nbsp;linux查看机器运行状态常用命令</div>
</div>
<div class="clearfix"></div>
<div id="title">linux查看机器运行状态常用命令</div>
<div id="content">
  <h1 id="_1">查看系统基本信息</h1>
<div class="hlcode"><pre>lsb_release -a  <span class="c"># 查看linux版本</span>

top  <span class="c"># 查看谁最占用cpu等资源</span>

uname -a  <span class="c"># 查看内核／操作系统／cpu等信息</span>

cat /etc/issue  <span class="c"># 查看操作系统版本</span>

cat /proc/version  <span class="c"># 查看内核</span>

cat /proc/cpuinfo  <span class="c"># 查看cpu信息</span>

cat /proc/meminfo

free -m <span class="c"># 查看linux内存使用情况和交换区使用量</span>

hostname  <span class="c"># 查看主机名</span>

lspci -tv  <span class="c"># 列出所有PCI设备</span>

lsusb -tv  <span class="c"># 列出所有USB设备</span>

env  <span class="c"># 查看环境变量资源</span>

df -h  <span class="c"># 查看系统的硬盘占用情况</span>

du -h  <span class="c"># 查看有一个目录下的文件占用大小</span>

du -sh &lt;file_name&gt;  <span class="c"># 查看某个目录或者文件的大小</span>

dmesg  <span class="c"># 查看内核信息</span>

uptime  <span class="c"># 查看系统的平均负载,cpu运行时间</span>

chkconfig --list  <span class="c"># 查看服务</span>

whoami who w  <span class="c"># 查看登陆的终端名字</span>

rpm -qa  <span class="c"># 查看所有的安装包</span>

rpm -qf  <span class="c"># 查看文件属于哪个包</span>

rpm -ql &lt;package-name&gt;  <span class="c"># 查询一个已经安装软件包里包含的文件</span>

rpm -qc &lt;package-name&gt;  <span class="c"># 查询一个已安装软件包的配置文件位置</span>

rpm -qd &lt;package-name&gt;  <span class="c"># 查询一个已安装软件包的描述信息</span>

rpm -qi &lt;package-name&gt;   <span class="c"># 查询一个已安装软件包的文档安装位置</span>

ps -ef   <span class="c"># 查看进行信息</span>

ps -aux  <span class="c"># 查看进程信息</span>

netstat -an  <span class="c"># 查看网络连接</span>

nestat -tlnp | grep &lt;port&gt;  <span class="c"># 查看端口的应用和进程id</span>

tail -n10 /var/log/message  <span class="c"># 查看系统日志</span>

tail -30 /var/log/secure <span class="c"># 查看用户登陆日志</span>
</pre></div>


<h2 id="_2">查看用户</h2>
<p>whoami  #要查看当前登录用户的用户名<br />
who am i  #表示打开当前伪终端的用户的用户名<br />
who mom likes</p>
<p>who 命令其它常用参数</p>
<p>参数  说明<br />
-a  打印能打印的全部<br />
-d  打印死掉的进程<br />
-m  同am i,mom likes<br />
-q  打印当前登录用户数及用户名<br />
-u  打印当前登录用户登录信息<br />
-r  打印运行等级</p>
<h3 id="1">1. 创建用户</h3>
<p>adduser这个命令，我们很容易理解其作用，因为完全可以顾名思义：add是英语“添加”的意思，user是英语“用户”的意思，因此adduser就是用于添加用户。</p>
<p>adduser newname // 新建用户newname</p>
<p>useradd 只创建用户，创建完了用 passwd lilei 去设置新用户的密码。 <br />
adduser 会创建用户，创建目录，创建密码（提示你设置），做这一系列的操作。 <br />
其实 useradd、userdel 这类操作更像是一种命令，执行完了就返回。而 adduser 更像是一种程序，需要你输入、确定等一系列操作</p>
<h3 id="_3">删除用户</h3>
<p>deluser是delete和user的缩写，delete是英语“删除”的意思，user是“用户”的意思。</p>
<p>userdel newname</p>
<p>单单用deluser命令，不加参数的话，只会删除用户，但是不会删除在/home目录中的用户家目录。如果你想要连此用户的家目录也一并删除，可以加上 –remove-home 这个参数，如下：</p>
<p>deluser –remove-home newname</p>
<p>这样，不仅删除了newname这个用户，连/home/newname这个目录也会删除。</p>
<p>注意：adduser和deluser命令只是Debian一族（包括Ubuntu）才有的命令。其他的LInux发行版，一般来说，添加用户和删除用户是用useradd和userdel命令。 <br />
而且，用useradd添加用户之后，在默认的情况下，该账号是暂时被封锁的， 也就是说，该账号是无法登录，须要用passwd命令来给新创建的用户设置密码之后才可以使用。</p>
<h3 id="_4">创建组</h3>
<p>addgroup是add和group的缩写，add是英语“添加”的意思，group是英语“群组”的意思。所以addgroup命令用于添加一个新的群组。</p>
<p>sudo addgroup siatstudent</p>
<p>groupadd testgroup</p>
<h3 id="_5"><strong><em> 修改组</em></strong></h3>
<p>groupmod -n test2group testgroup</p>
<h3 id="_6">删除组</h3>
<p>delgroup是delete和group的缩写，delete是英语“删除”的意思，group是英语“群组”的意思。所以delgroup命令用于删除一个已存在的群组。</p>
<div class="hlcode"><pre><span class="n">delgroup</span> <span class="n">happy</span>
</pre></div>


<p>就删除了happy这个群组。</p>
<div class="hlcode"><pre><span class="n">groupdel</span> <span class="n">test2group</span>
</pre></div>


<p>注意：addgroup和delgroup命令只是Debian一族（包括Ubuntu）才有的命令。其他的LInux发行版，一般来说，添加用户和删除用户是用groupadd和groupdel命令。</p>
<h3 id="_7">查看组</h3>
<div class="hlcode"><pre><span class="n">cd</span> <span class="o">/</span><span class="n">home</span>
<span class="n">ls</span> <span class="o">-</span><span class="n">l</span>
</pre></div>


<p><strong><em>第三列表示文件或目录的所有者，第四列表示文件或目录的所在群组</em></strong></p>
<div class="hlcode"><pre><span class="n">groups</span>  <span class="err">#查看当前登陆用户所在的组</span>
<span class="n">groups</span> <span class="n">testnewuser</span> <span class="err">#查看</span><span class="n">testnewuser</span> <span class="err">所在的组</span>
<span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">group</span>  <span class="err">#查看所有组</span>
</pre></div>


<div class="hlcode"><pre><span class="n">passwd</span><span class="err">命令：修改密码</span>

<span class="n">passwd</span><span class="err">命令是</span><span class="n">password</span><span class="err">这个英语单词的缩写，表示“密码”</span>

<span class="n">passwd</span> <span class="n">newname</span>

<span class="n">usermod</span><span class="err">命令：修改用户账户</span>

<span class="n">usermod</span><span class="err">是</span><span class="n">user</span><span class="err">和</span><span class="n">modify</span><span class="err">的缩写，</span><span class="n">user</span><span class="err">是英语“用户”的意思，</span><span class="n">modify</span><span class="err">是“修改”的意思。</span><span class="n">usermod</span><span class="err">命令用于修改用户的账户。</span>
</pre></div>


<p>-l：对用户重命名，但是/home目录中的用户家目录名不会改变，需要手动修改。<br />
-g：修改用户所在群组</p>
<div class="hlcode"><pre> <span class="n">usermod</span> <span class="o">-</span><span class="n">g</span> <span class="n">siatstudent</span> <span class="n">newname</span>
</pre></div>


<p>当然我们也可以一次将一个用户添加到多个群组，就用 -G 参数（大写的G）。用法如下：</p>
<div class="hlcode"><pre><span class="n">usermod</span> <span class="o">-</span><span class="n">G</span> <span class="n">friends</span><span class="p">,</span><span class="n">happy</span><span class="p">,</span><span class="n">funny</span> <span class="n">newname</span>
</pre></div>


<p>以上命令把newname添加到friends，happy和funny三个群组。记得群组名之间要用逗号分隔，而且没有空格。</p>
<p>注意：使用usermod时要小心，因为配合-g或-G参数时，它会把用户从原先的群组里剔除，加入到新的群组。如果你不想离开原先的群组，又想加入新的群组，可以在-G参数的基础上加上-a参数，a是英语append的缩写，表示“追加”。例如：</p>
<div class="hlcode"><pre><span class="n">usermod</span> <span class="o">-</span><span class="n">aG</span> <span class="n">happy</span> <span class="n">newname</span>
</pre></div>


<p>以上命令就把newname追加到群组happy里了，这样newname就属于两个群组：siatstudent和happy</p>
<div class="hlcode"><pre><span class="n">groups</span> <span class="n">newname</span> <span class="err">#查看</span><span class="n">newname</span><span class="err">所属群组</span>
</pre></div>


<h2 id="_8">设置文件的权限</h2>
<div class="hlcode"><pre><span class="n">udo</span> <span class="n">chmod</span> <span class="mi">600</span> <span class="err">×××</span> <span class="err">（只有所有者有读和写的权限）</span>
<span class="n">sudo</span> <span class="n">chmod</span> <span class="mi">644</span> <span class="err">×××</span> <span class="err">（所有者有读和写的权限，组用户只有读的权限）</span>
<span class="n">sudo</span> <span class="n">chmod</span> <span class="mi">700</span> <span class="err">×××</span> <span class="err">（只有所有者有读和写以及执行的权限）</span>
<span class="n">sudo</span> <span class="n">chmod</span> <span class="mi">666</span> <span class="err">×××</span> <span class="err">（每个人都有读和写的权限）</span>
<span class="n">sudo</span> <span class="n">chmod</span> <span class="mi">777</span> <span class="err">×××</span> <span class="err">（每个人都有读和写以及执行的权限）</span>

<span class="n">chmod</span><span class="err">命令详细用法</span> 
<span class="n">chmod</span><span class="err">命令：修改文件的访问权限</span> 
<span class="n">chmod</span><span class="err">是</span><span class="n">change</span><span class="err">和</span><span class="n">mode</span><span class="err">的缩写，</span><span class="n">change</span><span class="err">是英语“改变”的意思，</span><span class="n">mode</span><span class="err">是“模式”的意思。</span><span class="n">chmod</span><span class="err">命令用于修改文件的各种访问权限。</span>
</pre></div>


<p>指令名称 : chmod <br />
使用权限 : 所有使用者 <br />
使用方式 : chmod [-cfvR] [–help] [–version] mode file…</p>
<p>说明 : Linux/Unix 的档案调用权限分为三级 : 档案拥有者、群组、其他。利用 chmod 可以藉以控制档案如何被他人所调用。 <br />
参数 : <br />
mode : 权限设定字串，格式如下 : [ugoa…][[+-=][rwxX]…][,…]，其中 <br />
u 表示该档案的拥有者，g 表示与该档案的拥有者属于同一个群体(group)者，o表示其他以外的人，a 表示这三者皆是。 <br />
+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。 <br />
r 表示可读取，w 表示可写入，x 表示可执行。</p>
<div class="hlcode"><pre><span class="n">d</span><span class="err">：是英语</span><span class="n">directory</span><span class="err">的缩写，表示“目录”。就是说这是一个目录。</span>
<span class="n">l</span><span class="err">：是英语</span><span class="n">link</span><span class="err">的缩写，表示“链接”。就是说这是一个链接。</span>
<span class="n">r</span><span class="err">：是英语</span><span class="n">read</span><span class="err">的缩写，表示“读”。就是说可以读这个文件。</span>
<span class="n">w</span><span class="err">：是英语</span><span class="n">write</span><span class="err">的缩写，表示“写”。就是说可以写这个文件，也就是可以修改。</span>
<span class="n">x</span><span class="err">：是英语</span><span class="n">execute</span><span class="err">的缩写，表示“执行，运行”。就是说可以运行这个文件</span>
</pre></div>


<p>访问权限是按照用户来划分的</p>
<p>这里写图片描述</p>
<p>如上图，除开第一个表示文件或目录属性的符号（此处是d，表示目录。如果是l，则是链接。如果是短横-，那么是普通文件。），其他的9个符号被划分为三组，从左到右分别</p>
<p>第一组rwx表示文件的所有者对于此文件的访问权限。<br />
第二组rwx表示文件所属的群组的其他用户对于此文件的访问权限。<br />
第三组rwx表示除前两组之外的其他用户对于此文件的访问权限。</p>
<p>举例分析</p>
<div class="hlcode"><pre><span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>
</pre></div>


<p>我们从左到右来分析这些符号都表示什么：</p>
<div class="hlcode"><pre><span class="o">-</span><span class="err">：第一个短横表示这是一个普通文件。如果此处是</span><span class="n">d</span><span class="err">，那么表示目录；如果是</span><span class="n">l</span><span class="err">，那么表示链接，等等。</span>
<span class="n">rw</span><span class="o">-</span><span class="err">：表明了文件的所有者（此处是</span><span class="n">newname</span><span class="err">）对文件有读，写的权限，但是没有运行的权限。也很好理解，因为这是一个普通文件，默认没有可执行的属性。记住：如果有</span><span class="n">w</span><span class="err">权限（写的权限），那么表明也有删除此文件的权限。</span>
<span class="n">r</span><span class="o">--</span><span class="err">：表明文件所在的群组（此处是</span><span class="n">newname</span><span class="err">）的其他用户（除了</span><span class="n">newname</span><span class="err">之外）只可以读此文件，但不能写也不能执行。“可远观而不可亵玩焉”。</span>
<span class="n">r</span><span class="o">--</span><span class="err">：表示其他用户（除去</span><span class="n">newname</span><span class="err">这个群组的用户）只可以读此文件，但不能写也不能执行。</span>
</pre></div>


<p>综上所述，file.txt 这个文件是一个普通文件，不是一个目录，也不是链接文件，它的所有者newname可以读写它，但不能执行；其他的用户只能读。</p>
<p>记住：root是超级管家，它有所有权限，”只有它想不到的，没有它做不到的”。 <br />
它可以读、写、运行任意文件。</p>
<p>用数字来分配权限：chmod的绝对用法</p>
<p>事实上，Linux系统对每种权限（r，w和x）分配了对应的数字：</p>
<p>权限  数字<br />
r   　4<br />
w   　2<br />
x   　1</p>
<p>所以，如果我们要合并这些权限，就需要做简单的加法了：将对应的数字相加。</p>
<p>假如我们要分配读，写权限，那么我们就要用4+2，就等于6。数字6表示具有读和写权限。</p>
<p>以下是可能的组合形式：</p>
<p>权限  　数字     计算<br />
---     0   　0 + 0 + 0<br />
r--     4   　4 + 0 + 0<br />
-w-     2   　0 + 2 + 0<br />
--x     1   　0 + 0 + 1<br />
rw-     6   　4 + 2 + 0<br />
-wx     3   　0 + 2 + 1<br />
r-x     5   　4 + 0 + 1<br />
rwx     7   　4 + 2 + 1</p>
<p>所以，对于访问权限的三组（所有者的权限，群组用户的权限，其他用户的权限），我们只要分别做加法就可以了，然后把三个和连起来。</p>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="mi">600</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>例如：640分别表示：</p>
<p>文件的所有者有读和写的权限。<br />
文件所在群组的其他用户具有读的权限。<br />
除此之外的其他用户没有任何权限。</p>
<p>因此，我们可以给的最宽泛的权限就是 777：所有者，群组用户，其他用户都有读，写和运行的权限。这样，所有人就都可以对此文件“为所欲为”了。</p>
<p>相反，如果权限是000，那么没有人能对此文件做什么。当然，除了root，root可以做任何事。</p>
<p>用字母来分配权限：chmod的相对用法</p>
<p>我们需要知道不同的字母代表什么：</p>
<div class="hlcode"><pre><span class="n">u</span><span class="err">：</span><span class="n">user</span><span class="err">的缩写，是英语“用户”的意思。表示所有者。</span>
<span class="n">g</span><span class="err">：</span><span class="n">group</span><span class="err">的缩写，是英语“群组”的意思。表示群组用户。</span>
<span class="n">o</span><span class="err">：</span><span class="n">other</span><span class="err">的缩写，是英语“其他”的意思。表示其他用户。</span>
<span class="n">a</span><span class="err">：</span><span class="n">all</span><span class="err">的缩写，是英语“所有”的意思。表示所有用户。</span>
</pre></div>


<p>当然了，和这些字母配合的还有几个符号：</p>
<p>+：加号，表示添加权限。<br />
-：减号，表示去除权限。<br />
=：等号，表示分配权限。</p>
<p>接下来，我们举例说明如何使用：</p>
<h3 id="filetxt">文件file.txt的所有者增加读和运行的权限。</h3>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="n">u</span><span class="o">+</span><span class="n">rx</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<h3 id="filetxt_1">文件file.txt的群组其他用户增加读的权限。</h3>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="n">g</span><span class="o">+</span><span class="n">r</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span> 
</pre></div>


<h3 id="filetxt_2">文件file.txt的其他用户移除读的权限。</h3>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="n">o</span><span class="o">-</span><span class="n">r</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span> 
</pre></div>


<h3 id="filetxt_3">文件file.txt的群组其他用户增加读的权限，其他用户移除读的权限。</h3>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="n">g</span><span class="o">+</span><span class="n">r</span> <span class="n">o</span><span class="o">-</span><span class="n">r</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span> 
</pre></div>


<h3 id="filetxt_4">文件file.txt的群组其他用户和其他用户均移除读的权限。</h3>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="n">go</span><span class="o">-</span><span class="n">r</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span> 
</pre></div>


<h3 id="filetxt_5">文件file.txt的所有用户增加运行的权限。</h3>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="o">+</span><span class="n">x</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span> 
</pre></div>


<h3 id="filetxt_6">文件file.txt的所有者分配读，写和执行的权限；群组其他用户分配读的权限，不能写或执行；其他用户没有任何权限。</h3>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="n">u</span><span class="o">=</span><span class="n">rwx</span><span class="p">,</span><span class="n">g</span><span class="o">=</span><span class="n">r</span><span class="p">,</span><span class="n">o</span><span class="o">=-</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>-R参数：递归地修改访问权限</p>
<p>chmod配合-R参数可以递归地修改文件访问权限。</p>
<p>假如我要只允许newname这个用户能读，写，运行/home/newname这个目录的所有文件（当然，root不算，root可以做任何事），该怎么做呢？</p>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="o">-</span><span class="n">R</span> <span class="mi">700</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">newname</span>
</pre></div>


<p>chown命令</p>
<p>chown是change和owner的缩写，change是英语“改变”的意思，owner是英语“所有者”的意思。</p>
<p>因此chown命令用于改变文件的所有者。</p>
<p>chown命令：改变文件的所有者</p>
<p>后接新的所有者的用户名，再接文件名。例如：</p>
<div class="hlcode"><pre><span class="n">chown</span> <span class="n">newname</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>chown命令也可以改变文件的群组，用法如下：</p>
<p>chown newname:friends file.txt</p>
<p>这句命令就把file.txt这个文件的所有者改为newname，群组改为friends了。用法也很简单，就是在所有者和群组之间用冒号隔开。</p>
<p>-R参数：递归设置子目录和子文件</p>
<p>R是recursive的缩写，表示“递归”。所以如果chown命令配上-R参数，就会使得被修改的目录的所有子目录和子文件都改变所有者（或者连群组也改变，如果用上述冒号的方法来同时修改所有者和群组）。</p>
<p>想要把用户newname的家目录的所有子目录和文件都占为己有。我可以这么做：</p>
<div class="hlcode"><pre><span class="n">chown</span> <span class="o">-</span><span class="n">R</span> <span class="n">bids</span><span class="o">:</span><span class="n">bids</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">newname</span>
</pre></div>


<p>这样不但使/home/newname这个目录的所有者和群组都变成bids，而且其子目录和子文件也都是如此。</p>
<p>chmod命令：修改访问权限</p>
<p>在Linux系统里，每个文件和目录都有一列权限属性。这一列访问权限指明了谁有读的权利，谁有修改的权利，谁有运行的权利。</p>
<p>chgrp命令：改变文件的群组</p>
<p>chgrp是change和group的缩写，change是英语“改变”的意思，group是英语“群组”的意思。</p>
<p>chgrp命令用于改变文件的群组。</p>
<p>后接新的群组名，再接文件名。例如：</p>
<div class="hlcode"><pre><span class="n">chgrp</span> <span class="n">newname</span> <span class="n">file</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>－－－－－－－－－－－－－－－－－－－－－－－</p>
<p>举例说明：Linux系统新挂载了一个硬盘，命名为publicspace。 <br />
设置一个公共盘publicshare，所有用户都可以访问该文件夹来分享文件</p>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="mi">777</span> <span class="n">publicshare</span> <span class="o">-</span><span class="n">R</span>
</pre></div>


<p>若在该文件夹新建文件夹newname,只能让用户newname有权限对文件夹newname</p>
<h3 id="_9">更改文件的所有者和组</h3>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">chown</span> <span class="n">newname</span><span class="o">:</span><span class="n">newname</span> <span class="n">newname</span>
</pre></div>


<h3 id="_10">更改文件的读写权限</h3>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">chmod</span> <span class="n">go</span><span class="o">-</span><span class="n">rw</span> <span class="n">newname</span>
</pre></div>


<p>————————————————————————————</p>
<h3 id="etcskel">/etc/skel 目录</h3>
<p>/etc/skel目录一般是存放用户启动文件的目录，这个目录是由root权限控制，当我们添加用户时，这个目录下的文件自动复制到新添加的用户的家目录下；/etc/skel 目录下的文件都是隐藏文件，也就是类似.file格式的；我们可通过修改、添加、删除/etc/skel目录下的文件，来为用户提供一个统一、标准的、默认的用户环境；</p>
<p>/etc/skel 目录下的文件，一般是我们用useradd 和adduser 命令添加用户（user）时，系统自动复制到新添加用户（user）的家目录下；如果我们通过修改 /etc/passwd 来添加用户时，我们可以自己创建用户的家目录，然后把/etc/skel 下的文件复制到用户的家目录下，然后要用chown 来改变新用户家目录的属主；</p>
<p>———————————————————————————— </p>
<h3 id="_11">新建用户的独立性</h3>
<p>修改目录权限，使得Linux 每个账户只能查看自己的根目录，无法查看其它账户的目录。 <br />
首先要进入Linux系统下所有用户所在的文件夹</p>
<div class="hlcode"><pre><span class="n">cd</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span>
</pre></div>


<p>然后</p>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="n">go</span><span class="o">-</span><span class="n">rw</span> <span class="n">XXX</span><span class="p">.</span><span class="n">XXX</span> 
</pre></div>


<p>表示删除 XXX.XXX中组群和其他人的读和写的权限。 <br />
例如</p>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="n">go</span><span class="o">-</span><span class="n">rw</span> <span class="n">lili</span>
</pre></div>


<p>这就是说设置lili这个目录只有lili可以查看，Linux下的其它账户无法查看。</p>
<h1 id="_12">参考文献</h1>
<p><a href="https://www.jianshu.com/p/b587d91b8127">Linux探索之旅 | 第二部分第五课：用户和权限，有权就任性</a><br />
<a href="https://blog.csdn.net/jiandanjinxin/article/details/51920812">Linux 服务器上建立用户并分配权限</a><br />
<a href="https://blog.csdn.net/xulong_08/article/details/81463054">Linux简介及最常用命令</a></p>
</div>
<div id="content-footer">created in <span class="create-date date"> 2017-07-11 10:00 </span></div>
<div id="comments"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script type="text/javascript">
const gitment = new Gitment({
  title: 'linux查看机器运行状态常用命令',
  owner: 'sthsf',
  repo: 'wiki',
  oauth: {
    client_id: '086c54c5fd95adfdc372',
    client_secret: '2ad9ebe87b952d2c77fccf99c334881b91eaa73d',
  },
  // ...
  // For more available options, check out the documentation below
})
gitment.render('comments')
// or
// gitment.render(document.getElementById('comments'))
// or
// document.body.appendChild(gitment.render())
</script>

</div>
<div id="footer">
            <span>
                Copyright © 2022 LiYu.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
                Fork me in <a href="https://github.com/sthsf/wiki" target="_blank"> github </a>.
            </span>
</div>


<!--百度统计-->
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?90e1dcdd1938573c19f9ff6521188e91";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


</body>
</html>